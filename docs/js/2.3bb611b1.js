(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"1a44":function(e,t,s){"use strict";s("b067")},"337e":function(e,t,s){},"582a":function(e,t,s){"use strict";s("6480")},"62a5":function(e,t,s){"use strict";s("dd32")},6480:function(e,t,s){},7984:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hasRoom?i("q-page",{staticClass:"row"},[i("div",{staticClass:"page full-width"},[i("div",{staticClass:"full-width full-height"},[i("div",{staticClass:"timer row justify-center full-width"},[i("div",{staticClass:"col-xs-6 col-lg-4 text-center"},[i("div",{staticClass:"matching-header-timer"},[i("timer",{attrs:{totalTime:e.timer.totalTime,timerTitle:e.timer.name,limitTime:e.timer.limitTime,currentTime:e.timer.currentTime},on:{timerEnd:e.timerEnd}})],1)])]),i("hr",{staticClass:"no-margin hr-border-grey"}),i("div",{staticClass:"content row justify-start full-width"},[i("div",{staticClass:"col-md-7 col-xs-12 self-end full-height"},[i("div",{staticClass:"flex justify-around row border-bottom title-block"},[i("div",{staticClass:"text-h7 q-my-md q-ml-xl text-left col-12"},[e._v("Peers")])]),i("div",{staticClass:"container-video q-pa-md",class:"size-"+e.videoListCount},[i("video-chat",{ref:"videoChat",attrs:{width:"100%",uid:e.$store.state.userModule.uid,roomId:e.roomId,users:e.roomUsers},on:{"joined-room":e.onJoinedRoom,"left-room":e.onJoinedRoom,"video-list-count":e.onVideoListCount}})],1),i("div",{staticClass:"row justify-center full-width q-pt-sm"},[i("div",{staticClass:"col-12 text-center"},[i("q-btn",{staticClass:"relative-position q-mr-lg btn-custom-size",attrs:{round:"",size:".9rem","no-caps":"",icon:e.$refs.videoChat&&e.$refs.videoChat.isToggleVideo?"videocam":"videocam_off"},on:{click:function(t){return e.$refs.videoChat.toggleVideo()}}}),i("q-btn",{staticClass:"relative-position q-ml-lg btn-custom-size",attrs:{round:"",size:".9rem","no-caps":"",icon:e.$refs.videoChat&&e.$refs.videoChat.isToggleAudio?"mic":"mic_off"},on:{click:function(t){return e.$refs.videoChat.toggleAudio()}}})],1)])]),i("div",{staticClass:"col-md-5 col-xs-12 self-end full-height border-left right-block"},[i("div",{staticClass:"wrap-block full-height"},[i("div",{staticClass:"friend-dialog col-3 full-height"},[i("div",{staticClass:"flex justify-around row border-bottom"},[i("div",{staticClass:"text-h7 q-py-md text-center col-6 people cursor-pointer title-block",class:{"active text-weight-bold border-bottom":e.bar.people},on:{click:function(t){return e.toggleBar("people")}}},[e._v("People")]),i("div",{staticClass:"text-h7 q-py-md text-center col-6 chat cursor-pointer",class:{"active text-weight-bold border-bottom":e.bar.chat},on:{click:function(t){return e.toggleBar("chat")}}},[e._v(" Chat"),e.isNewMessage?i("span",{staticClass:"new-message"}):e._e()])]),e.bar.people&&e.hasJoinedUsersIds?i("div",{staticClass:"q-px-md q-ml-xl q-pt-xl",attrs:{id:"people"}},[i("q-list",e._l(e.joinedUsersIds,(function(t,o){return i("q-item",{key:"right-menu-"+o,staticClass:"user-connected"},[i("q-item-section",{attrs:{thumbnail:""}},[i("q-avatar",{staticClass:"cursor-pointer",attrs:{size:"3.5rem"},on:{click:function(s){e.activeDetailsUserUid=t}}},[i("q-img",{staticClass:"user-avatar-img",class:{"user-avatar-img-no-img":!e.roomUsers[t].photoURL},attrs:{src:e.roomUsers[t].photoURL||s("da51")}})],1)],1),i("q-item-section",[i("div",{staticClass:"q-message-name text-h6"},[e._v(e._s(e.roomUsers[t].displayName||"Guest"))]),i("div",{staticClass:"row items-center"},[e.roomUsers[t].task||e.$store.state.userModule.uid!==t?[i("div",{staticClass:"app-text-gray text-body1 task-to-work"},[e._v(e._s(e.roomUsers[t].task))]),e.roomUsers[t].task&&e.$store.state.userModule.uid===t?i("q-icon",{staticClass:"q-ml-lg cursor-pointer",attrs:{name:"done"},on:{click:e.onUserTaskDone}}):e._e()]:e._e(),e.roomUsers[t].task||e.$store.state.userModule.uid!==t?e._e():[i("q-input",{ref:"userNewTask",refInFor:!0,staticClass:"col-grow",attrs:{square:"",dense:"",borderless:"",maxlength:"220",label:"What are you working on?"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onUserTaskCreate.apply(null,arguments)}},model:{value:e.userNewTask,callback:function(t){e.userNewTask=t},expression:"userNewTask"}}),i("q-icon",{staticClass:"q-ml-lg cursor-pointer",attrs:{name:"create"},on:{click:e.onUserTaskCreate}})]],2)])],1)})),1)],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.bar.chat,expression:"bar.chat"}],staticClass:"full-height",attrs:{id:"chat"}},[i("chat",{attrs:{isActive:e.bar.chat},on:{"new-message":e.onNewMessage}})],1)])])])]),i("hr",{staticClass:"no-margin hr-border-grey"}),i("div",{staticClass:"row justify-center full-width q-pt-md"},[i("div",{staticClass:"col-12 text-center"},[i("div",{staticClass:"leave"},[i("q-btn",{staticClass:"relative-position q-ml-md text-weight-regular",attrs:{outline:"","no-caps":"",size:"1.2rem",label:"Leave"},on:{click:e.onLeave}})],1)])])])]),i("q-dialog",{on:{hide:function(t){return e.$emit("close-invite-dialog")}},model:{value:e.isInviteDialog,callback:function(t){e.isInviteDialog=t},expression:"isInviteDialog"}},[i("q-card",{staticClass:"invite-dialog-content q-pa-md"},[i("q-card-section",{staticClass:"row items-center q-pt-none q-pb-none"},[i("div",{staticClass:"text-h6"},[e._v("Get Invite Link")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"button-close",attrs:{flat:"",round:"",dense:"",size:"1.3rem"}},[e._v("X")])],1),i("q-card-section",[i("div",{staticClass:"text-grey-8"},[e._v("Your friends can join instantly without creating an account!")]),i("q-field",{staticClass:"row q-pb-none justify-between items-center q-mt-lg q-mb-md",attrs:{borderless:"",dense:""}},[i("q-input",{staticClass:"col-grow no-margin",attrs:{outlined:"","no-caps":"",type:"text",readonly:"",value:e.copyUrl}}),i("q-btn",{staticClass:"text-weight-regular q-ml-md q-px-lg",attrs:{"no-caps":"",label:"Copy Link",color:"grey-9"},on:{click:e.doCopy}})],1)],1)],1)],1),e.activeDetailsUserUid?i("user-details",{attrs:{userUid:e.activeDetailsUserUid,user:e.roomUsers[e.activeDetailsUserUid]},on:{"close-user-details-dialog":function(t){e.activeDetailsUserUid=null}}}):e._e()],1):e._e()},o=[],r=s("60a3"),a=s("a6c8"),n=s("84ac"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{on:{hide:function(t){return e.$emit("close-user-details-dialog")}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[i("q-card",{staticClass:"dialog-content q-pa-md"},[i("q-card-section",{staticClass:"row items-center q-pb-sm header"},[i("q-avatar",{attrs:{size:"3.5rem"}},[i("q-img",{staticClass:"user-avatar-img",class:{"user-avatar-img-no-img":!e.user.photoURL},attrs:{src:e.user.photoURL||s("da51")}})],1),i("div",{staticClass:"q-message-name text-h6 q-ml-lg"},[e._v(e._s(e.user.displayName||"Guest"))]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"button-close",attrs:{flat:"",round:"",dense:"",size:"1.3rem"}},[e._v("X")])],1),i("q-card-section",{staticClass:"no-padding details scroll",staticStyle:{"max-height":"50vh"}},[e.hasDataProfile?[e.profile.title?i("q-card",{attrs:{flat:""}},[i("q-card-section",{staticClass:"q-pb-xs"},[i("div",{staticClass:"text-h6"},[e._v("What is your title?")])]),i("q-card-section",{staticClass:"q-pt-none app-text-gray"},[e._v(e._s(e.profile.title))])],1):e._e(),e.profile.goal?i("q-card",{attrs:{flat:""}},[i("q-card-section",{staticClass:"q-pb-xs"},[i("div",{staticClass:"text-h6"},[e._v("What is your goal?")])]),i("q-card-section",{staticClass:"q-pt-none app-text-gray"},[e._v(e._s(e.profile.goal))])],1):e._e(),e.profile.interests?i("q-card",{attrs:{flat:""}},[i("q-card-section",{staticClass:"q-pb-xs"},[i("div",{staticClass:"text-h6"},[e._v("What are your interests?")])]),i("q-card-section",{staticClass:"q-pt-none app-text-gray"},[e._v(e._s(e.profile.interests))])],1):e._e(),e.profile.communities?i("q-card",{attrs:{flat:""}},[i("q-card-section",{staticClass:"q-pb-xs"},[i("div",{staticClass:"text-h6"},[e._v("Which communities are you in?")])]),i("q-card-section",{staticClass:"q-pt-none app-text-gray"},[e._v(e._s(e.profile.communities))])],1):e._e()]:i("q-card",{staticClass:"q-mt-md",attrs:{flat:""}},[i("q-card-section",{staticClass:"text-center"},[e._v("The user has not filled in the data")])],1)],2)],1)],1)},l=[],d=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let u=class extends r["d"]{constructor(){super(...arguments),this.model=!1,this.profile={}}mounted(){this.$store.dispatch("userModule/loadUserProfile",this.userUid).then((e=>{this.profile=e})).finally((()=>{this.model=!0}))}get hasDataProfile(){return!!this.profile}};d([Object(r["b"])()],u.prototype,"user",void 0),d([Object(r["b"])()],u.prototype,"userUid",void 0),u=d([r["a"]],u);var m=u,h=m,p=(s("1a44"),s("2877")),g=s("24e8"),v=s("f09f"),f=s("a370"),A=s("cb32"),b=s("068f"),C=s("2c91"),w=s("9c40"),I=s("7f67"),y=s("eebe"),x=s.n(y),T=Object(p["a"])(h,c,l,!1,null,"14e6c892",null),q=T.exports;x()(T,"components",{QDialog:g["a"],QCard:v["a"],QCardSection:f["a"],QAvatar:A["a"],QImg:b["a"],QSpace:C["a"],QBtn:w["a"]}),x()(T,"directives",{ClosePopup:I["a"]});var k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"chat-wrapper"}},[i("div",{staticClass:"full-width",attrs:{id:"messages"}},e._l(e.messages,(function(t,o){return i("q-chat-message",{key:o,staticClass:"items-start q-mb-md",attrs:{name:e.getOwnerNameOfMessage(t),text:[e.replaceURLWithHTMLLinks(t.text)],"bg-color":"white"},scopedSlots:e._u([{key:"avatar",fn:function(){return[i("q-avatar",{staticClass:"q-ml-md q-mr-sm cursor-pointer",on:{click:function(s){e.activeDetailsUserUid=t.userId}}},[i("q-img",{staticClass:"user-avatar-img",class:{"user-avatar-img-no-img":!e.users[t.userId]||!e.users[t.userId].photoURL},attrs:{src:e.users[t.userId]&&e.users[t.userId].photoURL||s("da51")}})],1)]},proxy:!0}],null,!0)})})),1),i("div",{staticClass:"footer q-px-md q-py-sm"},[i("q-input",{attrs:{label:"Start typing...",dense:"",borderless:"",value:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.sendMessage.apply(null,arguments))}},scopedSlots:e._u([{key:"after",fn:function(){return[i("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),e.activeDetailsUserUid?i("user-details",{attrs:{userUid:e.activeDetailsUserUid,user:e.users[e.activeDetailsUserUid]},on:{"close-user-details-dialog":function(t){e.activeDetailsUserUid=null}}}):e._e()],1)},U=[],R=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let j=class extends r["d"]{constructor(){super(),this.onResizeWindow=this.onResizeWindow.bind(this)}mounted(){this.$nextTick((()=>{window.addEventListener("resize",this.onResizeWindow)})),this.onResizeWindow()}destroyed(){window.removeEventListener("resize",this.onResizeWindow)}onResizeWindow(){}};j=R([r["a"]],j);var L=j,O=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let D=class extends r["d"]{constructor(){super(...arguments),this.text="",this.users={},this.messages=[],this.isLoading=!1,this.activeDetailsUserUid=""}mounted(){this.loadMessages()}get roomId(){return this.$route.params.roomId}loadMessages(){a["c"].collection("messages").where("roomId","==",this.roomId).orderBy("createdAt","asc").onSnapshot((e=>{this.newMessage(),this.isLoading=!0,this.messages.push(...e.docChanges().map((({doc:e})=>{const t=e.data();return t.userId&&!this.users[t.userId]&&a["c"].collection("users").doc(t.userId).get().then((e=>{this.$set(this,"users",Object.assign(Object.assign({},this.users),{[t.userId]:e.data()}))})),t})))}))}newMessage(){this.$emit("new-message",this.isLoading&&!this.isActive)}replaceURLWithHTMLLinks(e){const t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return e.replace(t,"<a class='link-blank' href='$1' target='_blank'>$1</a>")}onResizeWindow(){const e=window.document.getElementById("chat-wrapper"),t=window.document.getElementById("messages"),s=e&&e.offsetHeight||0;t&&(t.style.maxHeight=s-70+"px"),e&&(e.style.maxHeight=window.innerHeight-e.offsetTop-60+"px")}sendMessage(){if(this.text.length>0){const e={userId:this.$store.state.userModule.uid,roomId:this.roomId,text:this.text,createdAt:new Date};a["c"].collection("messages").add(e).then((()=>{this.text=""})).catch((e=>{this.$q.notify({icon:"report_problem",color:"warning",message:e.message})}))}else this.$q.notify({icon:"report_problem",color:"warning",message:"You need to type some text..."})}getOwnerNameOfMessage(e){const t=this.hasMyMessage(e)?"me":this.users[e.userId]&&this.users[e.userId].displayName||"Guest",s=new Date(1e3*e.createdAt.seconds),i=new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}).format(s);return`<span class="message__name">${t}</span> <span class="message__time app-text-gray-light">- ${i}</span>`}hasMyMessage(e){return e.userId===this.$store.state.userModule.uid}changeIsActive(){this.onResizeWindow()}};O([Object(r["b"])({default:!1})],D.prototype,"isActive",void 0),O([Object(r["e"])("isActive")],D.prototype,"changeIsActive",null),D=O([Object(r["a"])({mixins:[L],components:{UserDetails:q}})],D);var E=D,B=E,Q=(s("582a"),s("8169")),M=s("27f9"),G=Object(p["a"])(B,k,U,!1,null,"531753b8",null),S=G.exports;x()(G,"components",{QChatMessage:Q["a"],QAvatar:A["a"],QImg:b["a"],QInput:M["a"],QBtn:w["a"]});var W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"video-list flex items-center",class:"size-"+e.videoList.length},e._l(e.videoList,(function(t){return s("div",{key:t.id,staticClass:"video-item q-my-sm"},[s("div",{staticClass:"q-mx-sm relative-position flex flex-center items-center justify-center"},[s("video",{ref:"videos",refInFor:!0,staticClass:"vertical-bottom",attrs:{autoplay:"",playsinline:"",height:e.cameraHeight,id:t.id},domProps:{muted:t.muted}}),s("div",{staticClass:"absolute-bottom text-caption text-white text-left q-ma-sm"},[e._v(e._s(e.getUserName(t.extra.uid)))])])])})),0)},N=[],P=s("f463"),J=P["a"],z=(s("8db0"),Object(p["a"])(J,W,N,!1,null,"47082236",null)),K=z.exports,V=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let H=class extends r["d"]{constructor(){super(...arguments),this.isInviteDialog=!1,this.activeDetailsUserUid="",this.userNewTask="",this.roomUsers={},this.currentRoom={},this.joinedUsersIds=[],this.isNewMessage=!1,this.activeTimer="work",this.videoListCount=0,this.timers={work:{name:"Work",uri:"work",limitTime:15,currentTime:null},rest:{name:"Rest",uri:"rest",limitTime:6,currentTime:null}},this.bar={people:!1,chat:!1}}get timer(){return this.timers[this.activeTimer]||{}}timerEnd(){this.timers.work.currentTime=null,this.timers.rest.currentTime=null,"work"===this.activeTimer?this.activeTimer="rest":this.activeTimer="work"}onVideoListCount(e){this.videoListCount=e}onUserTaskDone(){this.updateRoomUser({task:"",updatedAt:a["e"].FieldValue.serverTimestamp()}),this.$set(this.roomUsers[this.uid],"task","")}onUserTaskCreate(){if(this.userNewTask)this.updateRoomUser({task:this.userNewTask,updatedAt:a["e"].FieldValue.serverTimestamp()}),this.$set(this.roomUsers[this.uid],"task",this.userNewTask),this.userNewTask="";else{const e=this.$refs.userNewTask;e&&e[0].$el.focus()}}updateRoomUser(e){const t=a["c"].collection("rooms").doc(this.roomId),s=t.collection("users").doc(this.uid);s.update(e)}onNewMessage(e){this.isNewMessage=e}mounted(){this.$store.getters["authModule/isAuth"]||this.$store.getters["authModule/isGuest"]||(this.$router.push({name:"Welcome"}),this.$q.notify({icon:"report_problem",color:"warning",message:"Access denied! Please Sign In"})),this.bar.people=!0,this.$q.loading.show(),a["c"].collection("rooms").doc(this.roomId).get().then((e=>{if(this.currentRoom=e.data(),"active"!==this.currentRoom.status||!this.currentRoom||!this.currentRoom.userIds.includes(this.uid))return this.goToFullRoom(),void this.$q.loading.hide();const t=+((+a["e"].Timestamp.now().toDate()-+this.currentRoom.createdAt.toDate())/6e4).toFixed(2),s=this.getCurrentTimer(t,this.timers.work,0);this.activeTimer=s.uri,this.buildUsers(),this.$q.loading.hide()}))}getCurrentTimer(e,t,s){const i=s+t.limitTime;return i>e?(t.currentTime=t.limitTime-(e-(i-t.limitTime)),t):this.getCurrentTimer(e,"work"===t.uri?this.timers.rest:this.timers.work,i)}buildUsers(){this.unsubscribeRoomUsers=a["c"].collection(`rooms/${this.roomId}/users`).onSnapshot((e=>{e.forEach((e=>{const t=e.data();a["c"].collection("users").doc(t.uid).get().then((e=>{this.$set(this.roomUsers,t.uid,Object.assign(Object.assign({},t),e.data()))}))}))}))}goToFullRoom(){this.$router.push({name:"FullRoom"})}doCopy(){this.$copyText(this.copyUrl).then((()=>{this.$q.notify({icon:"done",color:"positive",message:"Copied"})}),(()=>{this.$q.notify({icon:"report_problem",color:"warning",message:"Can not copy"})}))}toggleBar(e){this.bar.people=!1,this.bar.chat=!1,this.bar[e]=!0,this.bar.chat&&(this.isNewMessage=!1)}onLeave(){this.$q.dialog({title:"Confirm",message:"Are you sure you want to leave this room?",cancel:!0,persistent:!0}).onOk((()=>{this.updateRoom()}))}updateRoom(){this.$q.loading.show();const{uid:e}=this.$store.state.userModule,{roomId:t}=this.$route.params,s=a["c"].batch(),i=a["c"].collection("rooms").doc(t);return s.update(i,{userIds:a["e"].FieldValue.arrayRemove(e)}),s.commit().then((()=>{i.get().then((s=>{const i=s.data().userIds.length;a["c"].collection("rooms").doc(t).update({status:i?"active":"deleted",activeCandidatesCount:i}).then((()=>{a["c"].collection("users").doc(e).update({roomId:null}).then((()=>{this.$refs.videoChat.leave(),this.$nextTick((()=>{this.$q.loading.hide(),window.location.href="/video-chat/rating"}))}))}))}))}))}get hasJoinedUsersIds(){return!!this.joinedUsersIds.length}get hasRoom(){return!!Object.keys(this.currentRoom||{}).length&&!!Object.keys(this.roomUsers||{}).length}get copyUrl(){const{protocol:e,hostname:t,port:s}=location,{roomId:i}=this.$route.params,o=s?`:${s}`:"";return`${e}//${t}${o}/video-chat/invite/${i}`}get uid(){return this.$store.state.userModule.uid}get roomId(){return this.$route.params.roomId}onJoinedRoom(e){this.joinedUsersIds=e}destroy(){clearInterval(this.interval)}onInviteDialogChanged(e){e?setTimeout((()=>{this.isInviteDialog=e}),180):this.isInviteDialog=e}changeHasRoom(e){e&&this.$nextTick((()=>{this.$refs.videoChat.join()}))}};V([Object(r["b"])({default:!1})],H.prototype,"inviteDialog",void 0),V([Object(r["e"])("inviteDialog",{immediate:!0,deep:!0})],H.prototype,"onInviteDialogChanged",null),V([Object(r["e"])("hasRoom")],H.prototype,"changeHasRoom",null),H=V([Object(r["a"])({components:{UserDetails:q,Chat:S,Timer:n["a"],VideoChat:K}})],H);var X=H,F=X,Y=(s("62a5"),s("9989")),Z=s("1c1c"),_=s("66e5"),$=s("4074"),ee=s("0016"),te=s("8572"),se=Object(p["a"])(F,i,o,!1,null,"6c02e0a2",null);t["default"]=se.exports;x()(se,"components",{QPage:Y["a"],QBtn:w["a"],QList:Z["a"],QItem:_["a"],QItemSection:$["a"],QAvatar:A["a"],QImg:b["a"],QIcon:ee["a"],QInput:M["a"],QDialog:g["a"],QCard:v["a"],QCardSection:f["a"],QSpace:C["a"],QField:te["a"]}),x()(se,"directives",{ClosePopup:I["a"]})},"84ac":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"timer"},[s("div",{staticClass:"matching-header-title q-pt-sm"},[s("div",{staticClass:"text-h6"},[e._v(e._s(e.timerTitle))]),s("div",{staticClass:"text-h6"},[e._v(e._s(e.totalTime||e.timerMinutesLeft-e.timerMinutesPassed+"m"))])]),s("div",{staticClass:"matching-header-timer"},[s("q-linear-progress",{attrs:{size:"6px",value:e.progress}})],1)])},o=[],r=s("60a3"),a=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let n=class extends r["d"]{constructor(){super(...arguments),this.progress=1,this.coefficient=.0020833,this.timerMinutesLeft=0,this.timerMinutesPassed=0}mounted(){this.startTimer()}startTimer(){const e=this.coefficient/this.limitTime;this.timerMinutesLeft=this.limitTime,this.currentTime&&(this.timerMinutesLeft=Math.ceil(this.currentTime),this.progress=this.currentTime/this.limitTime);let t=0;this.interval=setInterval((()=>{t+=125;const s=Math.floor(t/60/1e3);s!==this.timerMinutesPassed&&(this.timerMinutesPassed=s),this.progress>0?this.progress-=e:(clearInterval(this.interval),this.$emit("timerEnd"),this.routerLink.name&&this.$router.push({name:this.routerLink.name,params:{roomId:this.routerLink.params}}))}),125)}onLimitTimeChanged(){clearInterval(this.interval),this.progress=1,this.startTimer()}};a([Object(r["b"])({default:"",type:String})],n.prototype,"totalTime",void 0),a([Object(r["b"])({default:"",type:String})],n.prototype,"timerTitle",void 0),a([Object(r["b"])({default:0,type:Number})],n.prototype,"currentTime",void 0),a([Object(r["b"])({default:0,type:Number})],n.prototype,"limitTime",void 0),a([Object(r["b"])({default(){return{}}})],n.prototype,"routerLink",void 0),a([Object(r["e"])("limitTime")],n.prototype,"onLimitTimeChanged",null),n=a([r["a"]],n);var c=n,l=c,d=(s("c080"),s("2877")),u=s("6b1d"),m=s("eebe"),h=s.n(m),p=Object(d["a"])(l,i,o,!1,null,"1e6267ec",null);t["a"]=p.exports;h()(p,"components",{QLinearProgress:u["a"]})},"8cba":function(e,t,s){},"8db0":function(e,t,s){"use strict";s("337e")},b067:function(e,t,s){},c080:function(e,t,s){"use strict";s("8cba")},da51:function(e,t){e.exports="data:image/png;base64,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"},dd32:function(e,t,s){},f463:function(e,t,s){"use strict";(function(e){var i=s("60a3"),o=s("cd68"),r=s.n(o),a=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};s("6fd6");let n=class extends i["d"]{constructor(){super(...arguments),this.videoList=[],this.isToggleVideo=!0,this.isToggleAudio=!0}mounted(){const t=this;this.isToggleVideo=this.enableVideo,this.isToggleAudio=this.enableAudio,this.rtcmConnection=new r.a,this.rtcmConnection.socketURL=this.socketURL,this.rtcmConnection.autoCreateMediaElement=!1,this.rtcmConnection.enableLogs=this.enableLogs,this.rtcmConnection.extra={uid:this.uid},this.rtcmConnection.session={audio:this.enableAudio,video:this.enableVideo},this.rtcmConnection.iceServers=[{urls:e.env.VUE_APP_SERVER_STUN_URL},{urls:e.env.VUE_APP_SERVER_TURN_URL,credential:e.env.VUE_APP_SERVER_TURN_CREDENTIAL,username:e.env.VUE_APP_SERVER_TURN_USERNAME}],this.rtcmConnection.sdpConstraints.mandatory={OfferToReceiveAudio:this.enableAudio,OfferToReceiveVideo:this.enableVideo},this.rtcmConnection.onstream=e=>{const s=t.videoList.find((t=>t.id===e.streamid));if(void 0===s){const s={id:e.streamid,muted:"local"===e.type,extra:e.extra,isAudio:!0};t.videoList.push(s),"local"===e.type&&(t.localVideo=s,t.localVideo.userId=e.userId)}setTimeout((()=>{const s=t.$refs.videos;for(let t=0,i=s.length;t<i;t+=1)if(s[t].id===e.streamid){s[t].srcObject=e.stream;break}}),1e3),t.$emit("joined-room",t.videoList.map((e=>e.extra.uid)))},this.rtcmConnection.onstreamended=e=>{const s=[];t.videoList.forEach((t=>{t.id!==e.streamid&&s.push(t)})),t.videoList=s,t.$emit("left-room",t.videoList.map((e=>e.extra.uid)))},this.rtcmConnection.onmute=e=>{e.mediaElement&&("both"===e.muteType||"video"===e.muteType?(e.mediaElement.src=null,e.mediaElement.poster=e.snapshot||"https://cdn.webrtc-experiment.com/images/muted.png"):"audio"===e.muteType&&(e.mediaElement.muted=!0,t.videoList=t.videoList.map((t=>(t.extra.uid===e.extra.uid&&(t.isAudio=!1),t)))))},this.rtcmConnection.onunmute=e=>{e.mediaElement&&("both"===e.unmuteType||"video"===e.unmuteType?(e.mediaElement.poster=null,e.mediaElement.src=URL.createObjectURL(e.stream)):"audio"===e.unmuteType&&(e.mediaElement.muted=!1,t.videoList=t.videoList.map((t=>(t.extra.uid===e.extra.uid&&(t.isAudio=!0),t)))))},this.rtcmConnection.onleave=e=>{t.videoList=t.videoList.filter((t=>t.extra.uid!==e.extra.uid))}}join(){const e=this;this.rtcmConnection.openOrJoin(this.roomId,((t,s)=>{!1===t&&!0===e.rtcmConnection.isInitiator&&e.$emit("opened-room",s)}))}toggleVideo(){if(this.isToggleVideo=!this.isToggleVideo,this.rtcmConnection.attachStreams.length){const e=this.rtcmConnection.attachStreams[0];this.isToggleVideo?e.unmute("video"):e.mute("video")}}toggleAudio(){if(this.isToggleAudio=!this.isToggleAudio,this.rtcmConnection.attachStreams.length){const e=this.rtcmConnection.attachStreams[0];this.isToggleAudio?e.unmute("audio"):e.mute("audio")}}leave(){this.rtcmConnection.attachStreams.forEach((e=>{e.stop()})),this.videoList=[]}getUserName(e){const t="Guest";return this.users[e]&&this.users[e].displayName||t}beforeDestroy(){this.leave()}changeVideoList(){this.$emit("video-list-count",this.videoList.length)}};a([Object(i["b"])({default:"public-room",type:String})],n.prototype,"roomId",void 0),a([Object(i["b"])({default:"https://rtcmulticonnection.herokuapp.com:443/"})],n.prototype,"socketURL",void 0),a([Object(i["b"])({default:190,type:[Number,String]})],n.prototype,"cameraHeight",void 0),a([Object(i["b"])({default:""})],n.prototype,"uid",void 0),a([Object(i["b"])(Object)],n.prototype,"users",void 0),a([Object(i["b"])({default:!1})],n.prototype,"enableLogs",void 0),a([Object(i["b"])({default:!0})],n.prototype,"enableAudio",void 0),a([Object(i["b"])({default:!0})],n.prototype,"enableVideo",void 0),a([Object(i["e"])("videoList")],n.prototype,"changeVideoList",null),n=a([i["a"]],n),t["a"]=n}).call(this,s("4362"))}}]);